<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>棒球棒次表</title>

<meta name="viewport"
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  font-family: system-ui;
  background: #f3f3f3;
}

.app {
  display: flex;
  height: 100vh;
}

.panel {
  padding: 10px;
  background: white;
  overflow: hidden;
}

.roster {
  width: 40%;
  border-right: 2px solid #ddd;
}

.lineup {
  width: 60%;
}

h2 {
  margin: 5px 0;
  font-size: 18px;
}

.list {
  height: calc(100% - 30px);
  overflow: hidden;
}

.item {
  background: #e5e5e5;
  padding: 10px;
  margin: 6px 0;
  border-radius: 6px;
  text-align: center;
  touch-action: none;
}

.slot {
  display: flex;
  align-items: center;
  gap: 6px;
}

.slot span {
  width: 18px;
  font-weight: bold;
}

.name {
  flex: 1;
}

select {
  font-size: 14px;
}

.pitcher {
  margin-top: 10px;
}
</style>
</head>

<body>

<div class="app">

  <!-- ROSTER -->
  <div class="panel roster">
    <h2>Roster</h2>
    <div class="list" id="roster"></div>
  </div>

  <!-- LINEUP -->
  <div class="panel lineup">
    <h2>Lineup 1–9</h2>
    <div class="list" id="lineup"></div>

    <h2>投手</h2>
    <div class="item slot" data-pitcher>
      <span>P</span>
      <div class="name"></div>
    </div>
  </div>

</div>

<script>
const rosterNames = [
  "陳晨威","陳傑憲","S Fairchild","柯敬賢","宋晟睿",
  "林安可","邱志呈","林子偉","張育成","李灝宇",
  "鄭宗哲","J Long","江坤宇","吳念庭"
];

const positions = ["","P","C","1B","2B","3B","SS","LF","CF","RF","DH"];

let dragging = null;

function createRoster() {
  const r = document.getElementById("roster");
  rosterNames.forEach(n => {
    const d = document.createElement("div");
    d.className = "item";
    d.textContent = n;
    enableDrag(d);
    r.appendChild(d);
  });
}

function createLineup() {
  const l = document.getElementById("lineup");
  for (let i = 1; i <= 9; i++) {
    const d = document.createElement("div");
    d.className = "item slot";
    d.innerHTML = `
      <span>${i}</span>
      <div class="name"></div>
      <select>${positions.map(p=>`<option>${p}</option>`).join("")}</select>
    `;
    enableDrop(d);
    l.appendChild(d);
  }
}

function enableDrag(el) {
  el.addEventListener("pointerdown", e => {
    dragging = el;
    el.setPointerCapture(e.pointerId);
  });

  el.addEventListener("pointerup", () => dragging = null);
}

function enableDrop(el) {
  el.addEventListener("pointerup", () => {
    if (!dragging) return;
    const nameBox = el.querySelector(".name");

    const temp = nameBox.textContent;
    nameBox.textContent = dragging.textContent;
    dragging.textContent = temp || dragging.textContent;

    if (!temp) dragging.remove();
    dragging = null;
  });
}

createRoster();
createLineup();
</script>

</body>
</html>
